{"repository": "NucleoidAI/react-event", "language": "javascript", "clone_url": "https://github.com/NucleoidAI/react-event.git", "collection_timestamp": "2025-02-12T14:35:12.444562+00:00Z", "commit_hash": "5fb2c12707c8d5b7b56cb333edde673dd7003a93", "commit_message": "Add registry in callback before publish\n", "commit_timestamp": "2024-05-26T21:53:33+00:00Z", "previous_commit_hash": "8e626aa9c5f9a259d47f77719d8b23fb27c3e642", "previous_commit_message": "1.1.6\n", "previous_commit_timestamp": "2024-05-26T21:31:18+00:00Z", "time_to_patch": "0:22:15", "bug_patch": "diff --git a/src/Event.js b/src/Event.js\nindex 401a648..a2f1819 100644\n--- a/src/Event.js\n+++ b/src/Event.js\n@@ -11,13 +11,10 @@ const subscribe = (type, callback) => {\n     subscriptions[type] = {};\n   }\n \n-  subscriptions[type][id] = callback;\n-\n-  let last = messages.get(type);\n-\n   const registry = {\n     id,\n     type,\n+    callback,\n     unsubscribe: () => {\n       console.debug(\"react-event\", \"unsubscribe\", type, id);\n       delete subscriptions[type][id];\n@@ -28,6 +25,10 @@ const subscribe = (type, callback) => {\n     },\n   };\n \n+  subscriptions[type][id] = registry;\n+\n+  let last = messages.get(type);\n+\n   if (last) {\n     callback(last, registry);\n   }\n@@ -40,8 +41,10 @@ const publish = (type, payload) => {\n   messages.set(type, payload);\n \n   Object.keys(subscriptions[type] || {}).forEach((key) => {\n+    const registry = subscriptions[type][key];\n+\n     setTimeout(() => {\n-      subscriptions[type][key](payload);\n+      registry.callback(payload, registry);\n     }, 0);\n   });\n };\n", "bug_patch_file_extensions": ["js"], "test_patch": "diff --git a/src/test/event.test.js b/src/test/event.test.js\nindex b3cbc81..5b93974 100644\n--- a/src/test/event.test.js\n+++ b/src/test/event.test.js\n@@ -61,17 +61,35 @@ describe(\"react-event\", () => {\n     expect(lastPublishedEvent).toEqual({ data: \"test payload\" });\n   });\n \n-  it(\"returns registry in callback\", () => {\n+  it(\"returns registry in callback\", (done) => {\n     publish(\"CALLBACK_REGISTRY_EVENT\", { data: \"test payload\" });\n \n     subscribe(\"CALLBACK_REGISTRY_EVENT\", (result, registry) => {\n+      expect(result).toMatchObject({ data: \"test payload\" });\n       expect(registry).toMatchObject({\n         id: expect.any(String),\n         type: \"CALLBACK_REGISTRY_EVENT\",\n+        callback: expect.any(Function),\n         unsubscribe: expect.any(Function),\n       });\n \n       registry.unsubscribe();\n     });\n+\n+    subscribe(\"CALLBACK_REGISTRY_EVENT_2\", (result, registry) => {\n+      expect(result).toMatchObject({ data: \"test payload 2\" });\n+      expect(registry).toMatchObject({\n+        id: expect.any(String),\n+        type: \"CALLBACK_REGISTRY_EVENT_2\",\n+        callback: expect.any(Function),\n+        unsubscribe: expect.any(Function),\n+      });\n+\n+      registry.unsubscribe();\n+\n+      done();\n+    });\n+\n+    publish(\"CALLBACK_REGISTRY_EVENT_2\", { data: \"test payload 2\" });\n   });\n });\n", "test_patch_file_extensions": ["js"], "non_code_patch": "", "non_code_patch_file_extensions": [], "change_type": "SOURCE_ONLY", "actions_runs": [[{"failed": false, "tests": [{"classname": "react-event subscribes and publishes events", "name": "react-event subscribes and publishes events", "time": 0.066, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event publishes and subscribes events", "name": "react-event publishes and subscribes events", "time": 0.004, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event notifies all subscribers of an event", "name": "react-event notifies all subscribers of an event", "time": 0.004, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event handles events with no subscribers without errors", "name": "react-event handles events with no subscribers without errors", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event registers the last published event to map", "name": "react-event registers the last published event to map", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event returns registry in callback", "name": "react-event returns registry in callback", "time": 0.003, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}], "stdout": "[03fb763b-d56d-4f8b-969d-347c045acef4/build] \ud83d\ude80  Start image=gitbugactions:latest\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker pull image=gitbugactions:latest platform= username= forcePull=false\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker create image=gitbugactions:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[] network=\"host\"\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker run image=gitbugactions:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[] network=\"host\"\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d] user=0 workdir=\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] \u2b50 Run Main actions/checkout@v3\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker cp src=/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d/. dst=/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d] user=0 workdir=\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2705  Success - Main actions/checkout@v3\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] \u2b50 Run Main actions/setup-node@v3\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker cp src=/tmp/act-cache/c4b4a2fa-3650-4d48-ac41-d238dc252f6e/act/actions-setup-node@v3/ dst=/var/run/act/actions/actions-setup-node@v3/\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /var/run/act/actions/actions-setup-node@v3/] user=0 workdir=\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-setup-node@v3/dist/setup/index.js] user= workdir=\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2753  ::group::Environment details\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | node: v18.20.6\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | npm: 10.8.2\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | yarn: 1.22.22\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2753  ::endgroup::\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/tsc.json\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/eslint-stylish.json\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/eslint-compact.json\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2705  Success - Main actions/setup-node@v3\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2699  ::set-output:: node-version=v18.20.6\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] \u2b50 Run Main npm ci\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/2] user= workdir=\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | added 490 packages, and audited 491 packages in 21s\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | 31 packages are looking for funding\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   run `npm fund` for details\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | 6 vulnerabilities (1 moderate, 4 high, 1 critical)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | To address all issues, run:\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   npm audit fix\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | Run `npm audit` for details.\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2705  Success - Main npm ci\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] \u2b50 Run Main npm install --save-dev jest-junit\nnpm test -- --reporters=default --reporters=jest-junit\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/3] user= workdir=\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | added 4 packages, and audited 495 packages in 4s\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | 31 packages are looking for funding\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   run `npm fund` for details\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | 6 vulnerabilities (1 moderate, 4 high, 1 critical)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | To address all issues, run:\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   npm audit fix\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | Run `npm audit` for details.\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | > @nucleoidai/react-event@1.1.6 test\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | > jest src --reporters=default --reporters=jest-junit\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.debug\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event subscribe TEST_EVENT 05ea6e90-2992-4d51-9dd4-83ce24974c15\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at debug (src/Event.js:8:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.debug\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event subscribe TEST_EVENT a53bde38-3784-4eca-8d0b-d405108e915e\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at debug (src/Event.js:8:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.log\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event publish TEST_EVENT { number: 10, string: 'blue' }\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at log (src/Event.js:39:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.log\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event publish TEST_EVENT { number: 10, string: 'blue' }\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at log (src/Event.js:39:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.debug\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event subscribe TEST_EVENT d84a2a0f-1ce4-4425-9c73-f5c75e82de78\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at debug (src/Event.js:8:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.debug\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event subscribe MULTI_SUB_EVENT 4fefd83c-2485-4850-aac3-043895f7b440\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at debug (src/Event.js:8:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.debug\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event subscribe MULTI_SUB_EVENT 1209307a-69cc-4f80-bad0-0cb4257d6594\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at debug (src/Event.js:8:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.log\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event publish MULTI_SUB_EVENT { data: 'shared' }\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at log (src/Event.js:39:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.log\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event publish NO_SUBSCRIBER_EVENT { data: 'none' }\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at log (src/Event.js:39:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.log\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event publish LAST_EVENT { data: 'test payload' }\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at log (src/Event.js:39:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.log\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event publish CALLBACK_REGISTRY_EVENT { data: 'test payload' }\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at log (src/Event.js:39:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.debug\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event subscribe CALLBACK_REGISTRY_EVENT 3f7e4103-4625-4cf1-affb-3d253359c606\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at debug (src/Event.js:8:11)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   console.debug\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     react-event unsubscribe CALLBACK_REGISTRY_EVENT 3f7e4103-4625-4cf1-affb-3d253359c606\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |       at Object.debug [as unsubscribe] (src/Event.js:22:15)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | PASS useEvent src/test/event.test.js\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |   react-event\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     \u2713 subscribes and publishes events (66 ms)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     \u2713 publishes and subscribes events (4 ms)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     \u2713 notifies all subscribers of an event (4 ms)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     \u2713 handles events with no subscribers without errors (1 ms)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     \u2713 registers the last published event to map (1 ms)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   |     \u2713 returns registry in callback (3 ms)\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | \n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | Test Suites: 1 passed, 1 total\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | Tests:       6 passed, 6 total\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | Snapshots:   0 total\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | Time:        1.889 s\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   | Ran all test suites matching /src/i.\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2705  Success - Main npm install --save-dev jest-junit\nnpm test -- --reporters=default --reporters=jest-junit\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] \u2b50 Run Post actions/setup-node@v3\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-setup-node@v3/dist/cache-save/index.js] user= workdir=\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \ud83d\udcac  ::debug::Caching for '' is not supported\n[03fb763b-d56d-4f8b-969d-347c045acef4/build]   \u2705  Success - Post actions/setup-node@v3\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] Cleaning up container for job build\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] \ud83c\udfc1  Job succeeded\n[03fb763b-d56d-4f8b-969d-347c045acef4/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n", "stderr": "time=\"2025-02-12T14:28:43Z\" level=warning msg=\"unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\"\ntime=\"2025-02-12T14:28:43Z\" level=info msg=\"Parallel tasks (0) below minimum, setting to 1\"\ntime=\"2025-02-12T14:28:43Z\" level=info msg=\"Parallel tasks (0) below minimum, setting to 1\"\n", "workflow": {"path": "/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d/.github/workflows/test-crawler.yml", "type": "npm-jest"}, "workflow_name": "03fb763b-d56d-4f8b-969d-347c045acef4", "build_tool": "npm-jest", "elapsed_time": 98.98256301879883, "default_actions": false, "return_code": 0}], [{"failed": false, "tests": [{"classname": "react-event subscribes and publishes events", "name": "react-event subscribes and publishes events", "time": 0.018, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event publishes and subscribes events", "name": "react-event publishes and subscribes events", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event notifies all subscribers of an event", "name": "react-event notifies all subscribers of an event", "time": 0.024, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event handles events with no subscribers without errors", "name": "react-event handles events with no subscribers without errors", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event registers the last published event to map", "name": "react-event registers the last published event to map", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event returns registry in callback", "name": "react-event returns registry in callback", "time": 0.004, "results": [{"result": "Failure", "message": null, "type": null}], "stdout": null, "stderr": null}], "stdout": "[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] \ud83d\ude80  Start image=gitbugactions:latest\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker pull image=gitbugactions:latest platform= username= forcePull=false\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker create image=gitbugactions:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[] network=\"host\"\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker run image=gitbugactions:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[] network=\"host\"\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d] user=0 workdir=\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] \u2b50 Run Main actions/checkout@v3\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker cp src=/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d/. dst=/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d] user=0 workdir=\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2705  Success - Main actions/checkout@v3\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] \u2b50 Run Main actions/setup-node@v3\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker cp src=/tmp/act-cache/c4b4a2fa-3650-4d48-ac41-d238dc252f6e/act/actions-setup-node@v3/ dst=/var/run/act/actions/actions-setup-node@v3/\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /var/run/act/actions/actions-setup-node@v3/] user=0 workdir=\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-setup-node@v3/dist/setup/index.js] user= workdir=\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2753  ::group::Environment details\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | node: v18.20.6\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | npm: 10.8.2\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | yarn: 1.22.22\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2753  ::endgroup::\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/tsc.json\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/eslint-stylish.json\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/eslint-compact.json\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2705  Success - Main actions/setup-node@v3\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2699  ::set-output:: node-version=v18.20.6\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] \u2b50 Run Main npm ci\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/2] user= workdir=\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | added 490 packages, and audited 491 packages in 15s\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | 31 packages are looking for funding\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   run `npm fund` for details\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | 6 vulnerabilities (1 moderate, 4 high, 1 critical)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | To address all issues, run:\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   npm audit fix\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | Run `npm audit` for details.\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u2705  Success - Main npm ci\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] \u2b50 Run Main npm install --save-dev jest-junit\nnpm test -- --reporters=default --reporters=jest-junit\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/3] user= workdir=\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | added 4 packages, and audited 495 packages in 20s\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | 31 packages are looking for funding\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   run `npm fund` for details\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | 6 vulnerabilities (1 moderate, 4 high, 1 critical)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | To address all issues, run:\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   npm audit fix\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | Run `npm audit` for details.\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | > @nucleoidai/react-event@1.1.6 test\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | > jest src --reporters=default --reporters=jest-junit\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.debug\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event subscribe TEST_EVENT dab72a8e-c5a4-49fb-b9ed-e3651f22126b\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at debug (src/Event.js:8:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.debug\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event subscribe TEST_EVENT 3e92afb1-ad98-412d-a57c-6d3940e46adb\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at debug (src/Event.js:8:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.log\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event publish TEST_EVENT { number: 10, string: 'blue' }\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at log (src/Event.js:39:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.log\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event publish TEST_EVENT { number: 10, string: 'blue' }\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at log (src/Event.js:39:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.debug\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event subscribe TEST_EVENT 9aad3ae9-4112-46ab-8c1c-fb8826e4acc3\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at debug (src/Event.js:8:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.debug\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event subscribe MULTI_SUB_EVENT 32b69577-8f4e-4bb8-9fcf-fa5c36a01460\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at debug (src/Event.js:8:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.debug\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event subscribe MULTI_SUB_EVENT 274cb733-8005-450b-8cfb-d9bf79cfc907\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at debug (src/Event.js:8:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.log\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event publish MULTI_SUB_EVENT { data: 'shared' }\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at log (src/Event.js:39:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.log\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event publish NO_SUBSCRIBER_EVENT { data: 'none' }\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at log (src/Event.js:39:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.log\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event publish LAST_EVENT { data: 'test payload' }\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at log (src/Event.js:39:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.log\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event publish CALLBACK_REGISTRY_EVENT { data: 'test payload' }\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at log (src/Event.js:39:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   console.debug\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     react-event subscribe CALLBACK_REGISTRY_EVENT 87cf0edc-0d6e-4ded-8ca8-641cc181afff\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at debug (src/Event.js:8:11)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | FAIL useEvent src/test/event.test.js\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   react-event\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     \u2713 subscribes and publishes events (18 ms)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     \u2713 publishes and subscribes events (2 ms)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     \u2713 notifies all subscribers of an event (24 ms)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     \u2713 handles events with no subscribers without errors (2 ms)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     \u2713 registers the last published event to map (1 ms)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     \u2715 returns registry in callback (4 ms)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |   \u25cf react-event \u203a returns registry in callback\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     expect(received).toMatchObject(expected)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     - Expected  - 1\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     + Received  + 0\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       Object {\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     -   \"callback\": Any<Function>,\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |         \"id\": Any<String>,\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |         \"type\": \"CALLBACK_REGISTRY_EVENT\",\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |         \"unsubscribe\": Any<Function>,\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       }\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       67 |     subscribe(\"CALLBACK_REGISTRY_EVENT\", (result, registry) => {\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       68 |       expect(result).toMatchObject({ data: \"test payload\" });\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |     > 69 |       expect(registry).toMatchObject({\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |          |                        ^\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       70 |         id: expect.any(String),\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       71 |         type: \"CALLBACK_REGISTRY_EVENT\",\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       72 |         callback: expect.any(Function),\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at toMatchObject (src/test/event.test.js:69:24)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at callback (src/Event.js:32:5)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   |       at Object.<anonymous> (src/test/event.test.js:67:14)\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | \n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | Test Suites: 1 failed, 1 total\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | Tests:       1 failed, 5 passed, 6 total\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | Snapshots:   0 total\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | Time:        0.709 s\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   | Ran all test suites matching /src/i.\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build]   \u274c  Failure - Main npm install --save-dev jest-junit\nnpm test -- --reporters=default --reporters=jest-junit\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] exitcode '1': failure\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] Cleaning up container for job build\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] failed to remove container: Error response from daemon: cannot remove container \"/act-5c94fcac-a2c2-4217-8145-0d585681cbd8-build-517a0c2e1533204ecc971e04717f99673b4ff3cd4e4b9b289cc34ae963d6d2c2\": could not kill: tried to kill container, but did not receive an exit event\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] Error while stop job container: Error response from daemon: remove act-5c94fcac-a2c2-4217-8145-0d585681cbd8-build-517a0c2e1533204ecc971e04717f99673b4ff3cd4e4b9b289cc34ae963d6d2c2: volume is in use - [12dfa846e7d20ee94e7c6de8625c7ed52b5e9e4beb14eb7da5388278d6f75d23]\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] \ud83c\udfc1  Job failed\n[5c94fcac-a2c2-4217-8145-0d585681cbd8/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\n", "stderr": "time=\"2025-02-12T14:30:26Z\" level=warning msg=\"unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '8e626aa9c5f9a259d47f77719d8b23fb27c3e642'\"\ntime=\"2025-02-12T14:30:26Z\" level=info msg=\"Parallel tasks (0) below minimum, setting to 1\"\ntime=\"2025-02-12T14:30:28Z\" level=info msg=\"Parallel tasks (0) below minimum, setting to 1\"\nError: Error occurred running finally: Error occurred running finally: Error response from daemon: remove act-5c94fcac-a2c2-4217-8145-0d585681cbd8-build-517a0c2e1533204ecc971e04717f99673b4ff3cd4e4b9b289cc34ae963d6d2c2: volume is in use - [12dfa846e7d20ee94e7c6de8625c7ed52b5e9e4beb14eb7da5388278d6f75d23] (original error: <nil>) (original error: <nil>)\n", "workflow": {"path": "/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d/.github/workflows/test-crawler.yml", "type": "npm-jest"}, "workflow_name": "5c94fcac-a2c2-4217-8145-0d585681cbd8", "build_tool": "npm-jest", "elapsed_time": 137.395423412323, "default_actions": false, "return_code": 1}], [{"failed": false, "tests": [{"classname": "react-event subscribes and publishes events", "name": "react-event subscribes and publishes events", "time": 0.056, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event publishes and subscribes events", "name": "react-event publishes and subscribes events", "time": 0.004, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event notifies all subscribers of an event", "name": "react-event notifies all subscribers of an event", "time": 0.008, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event handles events with no subscribers without errors", "name": "react-event handles events with no subscribers without errors", "time": 0.002, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event registers the last published event to map", "name": "react-event registers the last published event to map", "time": 0.001, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}, {"classname": "react-event returns registry in callback", "name": "react-event returns registry in callback", "time": 0.007, "results": [{"result": "Passed", "message": "", "type": ""}], "stdout": null, "stderr": null}], "stdout": "[6dd38210-1571-4b89-b0f9-8a976db26867/build] \ud83d\ude80  Start image=gitbugactions:latest\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker pull image=gitbugactions:latest platform= username= forcePull=false\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker create image=gitbugactions:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[] network=\"host\"\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker run image=gitbugactions:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[] network=\"host\"\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d] user=0 workdir=\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] \u2b50 Run Main actions/checkout@v3\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker cp src=/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d/. dst=/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d] user=0 workdir=\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2705  Success - Main actions/checkout@v3\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] \u2b50 Run Main actions/setup-node@v3\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker cp src=/tmp/act-cache/c4b4a2fa-3650-4d48-ac41-d238dc252f6e/act/actions-setup-node@v3/ dst=/var/run/act/actions/actions-setup-node@v3/\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker exec cmd=[chown -R 1000:1000 /var/run/act/actions/actions-setup-node@v3/] user=0 workdir=\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-setup-node@v3/dist/setup/index.js] user= workdir=\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2753  ::group::Environment details\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | node: v18.20.6\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | npm: 10.8.2\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | yarn: 1.22.22\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2753  ::endgroup::\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/tsc.json\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/eslint-stylish.json\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2753 add-matcher /run/act/actions/actions-setup-node@v3/.github/eslint-compact.json\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2705  Success - Main actions/setup-node@v3\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2699  ::set-output:: node-version=v18.20.6\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] \u2b50 Run Main npm ci\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/2] user= workdir=\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | added 490 packages, and audited 491 packages in 25s\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | 31 packages are looking for funding\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   run `npm fund` for details\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | 6 vulnerabilities (1 moderate, 4 high, 1 critical)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | To address all issues, run:\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   npm audit fix\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | Run `npm audit` for details.\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2705  Success - Main npm ci\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] \u2b50 Run Main npm install --save-dev jest-junit\nnpm test -- --reporters=default --reporters=jest-junit\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/3] user= workdir=\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | added 4 packages, and audited 495 packages in 4s\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | 31 packages are looking for funding\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   run `npm fund` for details\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | 6 vulnerabilities (1 moderate, 4 high, 1 critical)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | To address all issues, run:\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   npm audit fix\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | Run `npm audit` for details.\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | > @nucleoidai/react-event@1.1.6 test\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | > jest src --reporters=default --reporters=jest-junit\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event subscribe TEST_EVENT 0b1180b0-d188-4b6d-b2a6-35d20877e817\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at debug (src/Event.js:8:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event subscribe TEST_EVENT 15f64f7d-fc92-4ece-856a-e470b8009868\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at debug (src/Event.js:8:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.log\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event publish TEST_EVENT { number: 10, string: 'blue' }\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at log (src/Event.js:40:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.log\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event publish TEST_EVENT { number: 10, string: 'blue' }\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at log (src/Event.js:40:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event subscribe TEST_EVENT f094318e-0184-469f-8775-5c300a4c4733\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at debug (src/Event.js:8:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event subscribe MULTI_SUB_EVENT 57b6e8a5-ca02-4a31-a8b5-9028d29a3b68\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at debug (src/Event.js:8:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event subscribe MULTI_SUB_EVENT 20615cf7-5045-40fb-8c8a-5ce8d3c047a3\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at debug (src/Event.js:8:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.log\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event publish MULTI_SUB_EVENT { data: 'shared' }\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at log (src/Event.js:40:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.log\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event publish NO_SUBSCRIBER_EVENT { data: 'none' }\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at log (src/Event.js:40:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.log\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event publish LAST_EVENT { data: 'test payload' }\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at log (src/Event.js:40:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.log\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event publish CALLBACK_REGISTRY_EVENT { data: 'test payload' }\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at log (src/Event.js:40:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event subscribe CALLBACK_REGISTRY_EVENT ac7d9c40-b688-4d99-9cbe-2e6a041ec5b4\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at debug (src/Event.js:8:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event unsubscribe CALLBACK_REGISTRY_EVENT ac7d9c40-b688-4d99-9cbe-2e6a041ec5b4\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at Object.debug [as unsubscribe] (src/Event.js:19:15)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event subscribe CALLBACK_REGISTRY_EVENT_2 23d26736-4c37-4fb7-b126-fc4f48335e48\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at debug (src/Event.js:8:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.log\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event publish CALLBACK_REGISTRY_EVENT_2 { data: 'test payload 2' }\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at log (src/Event.js:40:11)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   console.debug\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     react-event unsubscribe CALLBACK_REGISTRY_EVENT_2 23d26736-4c37-4fb7-b126-fc4f48335e48\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |       at Object.debug [as unsubscribe] (src/Event.js:19:15)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | PASS useEvent src/test/event.test.js\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |   react-event\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     \u2713 subscribes and publishes events (56 ms)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     \u2713 publishes and subscribes events (4 ms)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     \u2713 notifies all subscribers of an event (8 ms)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     \u2713 handles events with no subscribers without errors (2 ms)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     \u2713 registers the last published event to map (1 ms)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   |     \u2713 returns registry in callback (7 ms)\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | \n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | Test Suites: 1 passed, 1 total\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | Tests:       6 passed, 6 total\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | Snapshots:   0 total\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | Time:        1.047 s\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   | Ran all test suites matching /src/i.\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2705  Success - Main npm install --save-dev jest-junit\nnpm test -- --reporters=default --reporters=jest-junit\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] \u2b50 Run Post actions/setup-node@v3\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-setup-node@v3/dist/cache-save/index.js] user= workdir=\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \ud83d\udcac  ::debug::Caching for '' is not supported\n[6dd38210-1571-4b89-b0f9-8a976db26867/build]   \u2705  Success - Post actions/setup-node@v3\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] Cleaning up container for job build\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] \ud83c\udfc1  Job succeeded\n[6dd38210-1571-4b89-b0f9-8a976db26867/build] unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\n", "stderr": "time=\"2025-02-12T14:32:44Z\" level=warning msg=\"unable to get git ref: failed to identify reference (tag/branch) for the checked-out revision '5fb2c12707c8d5b7b56cb333edde673dd7003a93'\"\ntime=\"2025-02-12T14:32:44Z\" level=info msg=\"Parallel tasks (0) below minimum, setting to 1\"\ntime=\"2025-02-12T14:32:44Z\" level=info msg=\"Parallel tasks (0) below minimum, setting to 1\"\n", "workflow": {"path": "/tmp/05cfbcc2-67ca-449c-b3c7-9cad92459e3d/.github/workflows/test-crawler.yml", "type": "npm-jest"}, "workflow_name": "6dd38210-1571-4b89-b0f9-8a976db26867", "build_tool": "npm-jest", "elapsed_time": 146.48570442199707, "default_actions": false, "return_code": 0}]], "strategy": "PASS_PASS", "issues": []}
